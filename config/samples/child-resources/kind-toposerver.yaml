apiVersion: multigres.com/v1alpha1
kind: TopoServer
metadata:
  name: kind-toposerver-sample
  namespace: default
spec:
  # Root path for topology data in etcd
  rootPath: /multigres/global

  # etcd container image
  image: quay.io/coreos/etcd:v3.5.12

  # Number of etcd replicas (must be odd: 1, 3, 5, etc.)
  # Using 1 replica for kind to minimize resource usage
  replicas: 1

  # Storage configuration for etcd data - kind uses local storage provisioner
  dataVolumeClaimTemplate:
    accessModes:
      - ReadWriteOnce
    resources:
      requests:
        storage: 1Gi

  # Resource requirements for etcd containers - lower for kind
  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi
